<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZEROPRESS</title>
  <link rel="stylesheet" href="/assets/client-entry-Dj2YQCT4.css">
  <body>
    <div id="root"><header class="pc:fixed absolute left-0 top-0 z-50 w-full"><div class="border-divider bg-bg-default h-nav border-b px-[12px] pt-px transition-colors duration-300"><div class="flex h-full items-center justify-between"><div class="flex h-full justify-start"><div class="h-full"><nav class="mx-[12px] flex h-full items-center"><a class="cursor-pointer"><img src="/logo.jpg" class="h-[24px] w-[24px]"/></a></nav></div></div><div class="flex h-full justify-end"><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">http</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">react17</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">数据结构与算法</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">设计模式</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">笔记</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-brand text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">总结</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">收集</a></nav></div><div class="h-full"><nav class="mx-[12px] h-full justify-end"><a class="cursor-pointer text-text-2 text-hover flex h-full items-center whitespace-nowrap text-[14px] font-[500]">业务</a></nav></div><div class="h-full"><nav class="mx-[4px] flex h-full items-center"><button class="bg-bg-switch border-divider hover:border-gray-1 relative h-[22px] w-[40px] rounded-[11px] border transition-colors duration-300"><div class="bg-bg-inverse shadow-1 absolute left-px top-px h-[18px] w-[18px] overflow-hidden rounded-[50%] transition-all duration-300 dark:translate-x-[18px]"><span class="*:text-text-2 *:absolute *:left-[3px] *:top-[3px] *:h-[12px] *:w-[12px] *:transition-opacity *:duration-300"><div class="icon-[carbon--sun] opacity-100 dark:opacity-0"></div><div class="icon-[carbon--moon] opacity-0 dark:opacity-100"></div></span></div></button></nav></div><div class="h-full"><nav class="mx-[12px] h-full"><a href="https://github.com/houhongxu/hhxpress" class="cursor-pointer text-text-2 text-hover flex  h-full items-center"><span class="icon-[carbon--logo-github] h-[24px] w-[24px]"></span></a></nav></div></div></div></div></header><div class="pt-nav"><aside class="mt-nav w-sidebar border-divider bg-bg-sidebar pc:-translate-x-0 fixed inset-y-0 left-0 z-40 -translate-x-full overflow-y-auto border-r px-[28px] py-[16px] transition-transform duration-300"><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>介绍</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:27px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">intro</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>http</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:324px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">http1与2与3</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">http与https</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">状态码</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">缓存</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">跨域</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">Cookie</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">安全</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">内容协商</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">CDN</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">文件上传</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">防盗链</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">浏览器构建HTTP请求行时怎么确定HTTP版本的</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>浏览器</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:54px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">从url开始的长篇大论</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">同站同进程</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>css</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:297px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">盒模型</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">水平垂直居中</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">左侧固定右侧自适应</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">三列均分布局</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">长宽比固定的元素</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">三角形元素</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">选择器权重</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">层叠上下文</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">格式化上下文</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">文本的样式处理</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">readme</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>javascript</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:243px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-brand text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">变量提升 与 闭包 与 this 与 new 那得从 V8 执行上下文 说起</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">看得见的原型链</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">还在手写promise呢</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">防抖与节流</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">apply与call与bind</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">深拷贝</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">promiseMap</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">事件委托</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">readme</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>react</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:378px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">react原理</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">不应该有闭包陷阱这个问题</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">理论上useCallback可以被完全替换</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">memo 为什么需要和 useCallback或useMemo 搭配</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">hook 作弊器 useReducer</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">diff算法</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">react hooks并不依赖fiber</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">context你怎么回事</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">state的同步异步</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">函数组件没有ErrorBoundary怎么办</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">调度lane</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">并发？批处理？</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">vdom提高性能？</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">todo</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>webpack</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:54px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">为什么 webpack 仍然必要</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">分包</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>vite</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:54px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">为什么vite比webpack快</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">vite和webpack HMR</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>工程化</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:108px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">模块化是工程化的起源</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">npm包</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">构建工具分类</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">todo</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>业务</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:243px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">移动端为主的宽度响应设计</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">首屏优化可以放5s广告吗</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">详情页优化</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">图片展示</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">文件上传</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">登录鉴权</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">深色模式</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">埋点问题</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">如何实现加载进度条</a></div></div></aside><div class="pc:ml-sidebar ml-0 flex justify-between"><div class="mx-auto w-full max-w-[768px] transition-[margin] duration-300"><div class="h-nav pc:hidden bg-bg-default sticky top-0 z-50 w-full border-b"><div class="flex h-full items-center justify-between px-[24px]"><a class="icon-[carbon--list] h-[24px] w-[24px] cursor-pointer"></a><a class="icon-[carbon--border-top] h-[24px] w-[24px] cursor-pointer"></a></div><div class="fixed inset-0 bg-[#00000060] transition-all duration-300 opacity-0 invisible"></div><aside class="w-sidebar border-divider bg-bg-sidebar fixed inset-y-0 left-0 z-40 overflow-y-auto border-r px-[28px] py-[16px] transition-transform duration-300 -translate-x-full"><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>介绍</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:27px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">intro</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>http</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:324px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">http1与2与3</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">http与https</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">状态码</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">缓存</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">跨域</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">Cookie</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">安全</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">内容协商</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">CDN</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">文件上传</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">防盗链</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">浏览器构建HTTP请求行时怎么确定HTTP版本的</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>浏览器</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:54px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">从url开始的长篇大论</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">同站同进程</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>css</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:297px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">盒模型</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">水平垂直居中</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">左侧固定右侧自适应</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">三列均分布局</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">长宽比固定的元素</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">三角形元素</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">选择器权重</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">层叠上下文</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">格式化上下文</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">文本的样式处理</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">readme</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>javascript</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:243px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-brand text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">变量提升 与 闭包 与 this 与 new 那得从 V8 执行上下文 说起</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">看得见的原型链</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">还在手写promise呢</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">防抖与节流</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">apply与call与bind</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">深拷贝</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">promiseMap</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">事件委托</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">readme</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>react</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:378px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">react原理</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">不应该有闭包陷阱这个问题</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">理论上useCallback可以被完全替换</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">memo 为什么需要和 useCallback或useMemo 搭配</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">hook 作弊器 useReducer</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">diff算法</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">react hooks并不依赖fiber</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">context你怎么回事</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">state的同步异步</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">函数组件没有ErrorBoundary怎么办</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">调度lane</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">并发？批处理？</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">vdom提高性能？</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">todo</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>webpack</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:54px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">为什么 webpack 仍然必要</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">分包</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>vite</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:54px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">为什么vite比webpack快</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">vite和webpack HMR</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>工程化</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:108px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">模块化是工程化的起源</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">npm包</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">构建工具分类</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">todo</a></div></div><div class="border-divider mt-[4px] border-t first:mt-0 first:border-t-0"><h2 class="text-text-1 mb-[6px] mt-[12px] flex cursor-pointer items-center justify-between font-[700]"><span>业务</span><span class="rotate-90 icon-[carbon--chevron-right] transition-transform duration-300"></span></h2><div style="height:243px" class="mb-[12px] flex flex-col overflow-hidden pl-[1rem] transition-[height] duration-300"><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">移动端为主的宽度响应设计</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">首屏优化可以放5s广告吗</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">详情页优化</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">图片展示</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">文件上传</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">登录鉴权</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">深色模式</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">埋点问题</a><a class="cursor-pointer text-text-2 text-hover mb-[2px] overflow-hidden text-ellipsis whitespace-nowrap p-[2px] text-[14px]">如何实现加载进度条</a></div></div></aside><div class="fixed inset-0  bg-[#00000060] transition-all duration-300 opacity-0 invisible"></div><aside class="w-toc border-divider bg-bg-sidebar fixed inset-y-0 right-0 z-40  h-full border-l px-[28px] py-[16px] transition-transform duration-300 translate-x-full"><div class="border-divider pc:border-l px-[16px] font-[500]"><div class="pc:block bg-brand absolute left-0 hidden h-[18px] w-px transition-[opacity,top] duration-300" style="top:33px;opacity:0"></div><div class="text-[14px] font-[600] leading-[28px]">本页目录</div><div><div><a href="#编译器与解释器" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">编译器与解释器</a></div><div><a href="#执行流程" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">执行流程</a></div><div><a href="#执行上下文" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">执行上下文</a></div><div><a href="#作用域和作用域链" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:1rem">作用域和作用域链</a></div><div><a href="#变量提升" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">变量提升</a></div><div><a href="#闭包" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">闭包</a></div><div><a href="#chorme-控制台的scopes" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:1rem">chorme 控制台的[[Scopes]]</a></div><div><a href="#this" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">this</a></div><div><a href="#new" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">new</a></div><div><a href="#参考资料" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">参考资料</a></div></div></div></aside></div><div class="p-[48px]"><div class="doc"><h1 id="变量提升-与-闭包-与-this-与-new-那得从-v8-执行上下文-说起"><a class="autolink-headings" href="#变量提升-与-闭包-与-this-与-new-那得从-v8-执行上下文-说起"><span style="margin-right:4px">#</span></a>变量提升 与 闭包 与 this 与 new 那得从 V8 执行上下文 说起</h1>
<blockquote>
<p>chrome 版本 114.0.5735.198（正式版本） (arm64) ，控制台特性一直变化，所以需要记录版本</p>
</blockquote>
<h2 id="编译器与解释器"><a class="autolink-headings" href="#编译器与解释器"><span style="margin-right:4px">#</span></a>编译器与解释器</h2>
<ul>
<li>编译型语言：词法和语法分析代码成抽象语法树(AST)后，优化代码，然后编译成机器码(可执行的二进制文件)执行</li>
<li>解释型语言：词法和语法分析代码成抽象语法树(AST)后，解释成字节码，然后动态解释并执行</li>
</ul>
<blockquote>
<p>字节码是 介于 AST 和机器码之间的一种代码，不能直接执行，需要通过解释器 Ignition 动态解释为机器码后才能执行</p>
</blockquote>
<p>JavaScript 属于解释型语言，是逐行解释，逐行执行</p>
<p><img src="/img/interview/3/1-1.jpg" alt="1"/></p>
<p>但是 V8 不仅仅有解释器，他包含编译器 TurboFan 与解释器 Ignition</p>
<p><img src="/img/interview/3/1-2.jpg" alt="2"/></p>
<p>因为 V8 采用的是即时编译技术（JIT)：字节码配合解释器和编译器的技术</p>
<p>在解释器 Ignition 解释并执行字节码过程中，如果有热点代码(重复执行多次的代码)，会通过编译器 TurboFan 把字节码编译为机器码，提高效率</p>
<blockquote>
<p>V8 一开始并没有字节码，而是直接将 AST 转换为机器码，因为执行机器码的效率非常高效。但是 需要消耗大量的内存来存放机器码。为了解决内存占用问题，V8 团队才大幅重构了引擎架构，引入字节码</p>
</blockquote>
<h2 id="执行流程"><a class="autolink-headings" href="#执行流程"><span style="margin-right:4px">#</span></a>执行流程</h2>
<p>JavaScript 执行流程分为两个阶段：编译阶段和执行阶段。</p>
<p>编译阶段：</p>
<ul>
<li>词法分析：将代码分析为 Token 流(语法不能再分的最小单个字符串)</li>
<li>语法分析：将 Token 流分析为结构化的 AST(抽象语法树)</li>
<li>创建全局执行上下文：根据 AST 创建全局执行上下文暂存在执行上下文栈中</li>
<li>解释器 Ignition 生成字节码：根据 AST 生成字节码</li>
</ul>
<p>执行阶段：</p>
<ul>
<li>解释器 Ignition 在解释并执行字节码的同时，将热点代码(重复执行多次的代码)交给 编译器 TurboFan 编译为机器码提高效率</li>
<li>执行到(函数/代码块)时创建(函数/块级)执行上下文：创建(函数/块级)执行上下文暂存在执行上下文栈中，执行完后弹出</li>
</ul>
<h2 id="执行上下文"><a class="autolink-headings" href="#执行上下文"><span style="margin-right:4px">#</span></a>执行上下文</h2>
<p>执行上下文就是 JavaScript 执行一段代码时的运行环境</p>
<p>执行上下文种类分为：</p>
<ul>
<li>全局执行上下文</li>
<li>函数执行上下文</li>
<li>块级执行上下文 （es6 后出现）</li>
<li>eval 执行上下文 (暂不考虑)</li>
</ul>
<p>注意，<strong>全局</strong>执行上下文是在编译阶段就生成并存储在<strong>执行上下文栈</strong>中的</p>
<p>每一次执行到**(函数/代码块)<strong>时，就会创建</strong>(函数/块级)<strong>执行上下文，然后放入</strong>执行上下文栈**中，执行完后弹出</p>
<blockquote>
<p>所以全局执行上下文直到程序终止前都会存在
当递归调用函数时，没有终止条件就一直入栈，会产生著名的栈溢出(Stack Overflow)</p>
</blockquote>
<p>执行上下文创建时，会：</p>
<blockquote>
<p>为了新增块级作用域并兼容变量提升等旧特性，出现了新的定义比如词法环境和变量环境，本质并没有太大变化，但是尽量以 es3 为基础理解，以 es2018 为基础应用</p>
</blockquote>
<p>es3:</p>
<ul>
<li>创建变量对象 VO(作用域)：存储变量声明+函数声明+函数参数名(全局创建全局对象 GO，函数创建活动对象 AO 并初始化 arguments)</li>
<li>创建作用域链 Scope：有序链表，包括自身变量对象+父级作用域[[scope]]</li>
<li>确定 this 的指向</li>
</ul>
<p>es6:</p>
<ul>
<li>创建词法环境：环境记录（变量对象）+ 外部环境引用 outer(作用域链) (存储变量 let/const 的内容)</li>
<li>创建变量环境：与词法环境类似 (存储变量提升的内容)</li>
<li>确定 this 的指向</li>
</ul>
<p>es2018:</p>
<ul>
<li>创建词法环境：环境记录（变量对象）+ 外部环境引用 outer(作用域链) + this (存储变量 let/const 的内容)</li>
<li>创建变量环境：与词法环境类似 (存储变量提升的内容)</li>
<li>很多其他环境暂时不关注</li>
</ul>
<p><strong>执行上下文栈</strong>是按执行顺序压入的，但是代码作用域往往不同于调用的顺序，所以作用域是通过作用域链来控制代码可以访问的变量等内容</p>
<p>如：</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="ts" data-theme="github-light"><code data-language="ts" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">function</span><span style="color:#6F42C1"> fuc1</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(myName)</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">function</span><span style="color:#6F42C1"> fuc2</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#D73A49">  var</span><span style="color:#24292E"> myName </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &#x27;函数2&#x27;</span></span>
<span data-line=""><span style="color:#6F42C1">  fuc1</span><span style="color:#24292E">()</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">var</span><span style="color:#24292E"> myName </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &#x27;全局&#x27;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6F42C1">func2</span><span style="color:#24292E">()</span></span></code></pre></figure>
<p>调用栈顺序为全局-&gt;fuc2-&gt;fuc1
但是作用域链顺序为 fuc1-&gt;全局 和 fuc2-&gt;全局</p>
<h3 id="作用域和作用域链"><a class="autolink-headings" href="#作用域和作用域链"><span style="margin-right:4px">#</span></a>作用域和作用域链</h3>
<p>作用域是 es3 的知识了，我们拓展到 2018 进行理解</p>
<p>JavaScript 采用词法(静态)作用域，就是指作用域是由代码中<strong>函数(代码块)声明</strong>的位置来决定的</p>
<p>作用域种类分为：</p>
<ul>
<li>全局作用域（es3 全局对象 GO）(es2018 (词法/变量)环境的一部分)</li>
<li>函数作用域（es3 活动对象 AO）(es2018 (词法/变量)环境的一部分)</li>
<li>块级作用域 (es2018 词法环境的一部分)</li>
</ul>
<p>es3 执行阶段先看自身作用域再看父级作用域[[scope]]，注意[[scope]]是我们无法看到的</p>
<p>es2018 执行阶段先查找词法环境再查找变量环境再查找 outer，即先看块级作用域再看函数作用域再看父级作用域，通过这种方式解决了新增 let/const 的块级作用域的问题</p>
<h2 id="变量提升"><a class="autolink-headings" href="#变量提升"><span style="margin-right:4px">#</span></a>变量提升</h2>
<p>现在看变量提升就很好理解了</p>
<p>在编译阶段创建执行上下文栈的时候，创建的变量环境中会提取出来 var 和函数声明，优先提取函数</p>
<p>在执行阶段执行代码时才进行赋值操作</p>
<blockquote>
<p>优先提取函数，重复声明的函数使用最后的声明，函数和变量同时声明则使用函数声明</p>
</blockquote>
<h2 id="闭包"><a class="autolink-headings" href="#闭包"><span style="margin-right:4px">#</span></a>闭包</h2>
<p>闭包就是函数执行后还保存在内存的变量</p>
<p>环境指的是内部函数引用外部函数的变量的集合</p>
<p>根据词法作用域的规则，内部函数总是可以访问它们的外部函数中的变量</p>
<p>当外部函数执行完时，内部函数引用的外包函数的变量依然保存在内存中</p>
<p>也有人称保存的这些变量的集合叫闭包</p>
<p>在 chrome 控制台就可以看到闭包的特性</p>
<h3 id="chorme-控制台的scopes"><a class="autolink-headings" href="#chorme-控制台的scopes"><span style="margin-right:4px">#</span></a>chorme 控制台的[[Scopes]]</h3>
<p>[[Scopes]] 不是内部 JavaScript 属性，它是 Chromium 调试器创建的功能</p>
<p><a href="https://stackoverflow.com/questions/75016334/how-to-look-javascript-internal-property-scopes">见 stackoverflow</a></p>
<p>[[Scopes]]在 chrome 版本 114.0.5735.198（正式版本） (arm64) 浏览器内可以观察闭包</p>
<p>在控制台可以通过<code>console.dir</code>看到属性<code>[[Scopes]]</code></p>
<p><code>[[Scopes]]</code>是一个类数组的栈结构，[Closure,Script,Global]</p>
<ul>
<li>Closure：闭包作用域</li>
<li>Script：Script 标签的作用域（控制台没有标签则没有变量内容)</li>
<li>Global：全局作用域</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="js" data-theme="github-light"><code data-language="js" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getFunc</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#D73A49">  const</span><span style="color:#005CC5"> a</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 1</span></span>
<span data-line=""><span style="color:#D73A49">  return</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> func</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(a)</span></span>
<span data-line=""><span style="color:#24292E">  }</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""><span style="color:#D73A49">const</span><span style="color:#005CC5"> func</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> getFunc</span><span style="color:#24292E">()</span></span>
<span data-line=""><span style="color:#6F42C1">func</span><span style="color:#24292E">()</span></span></code></pre></figure>
<p>可以看到 getFunc 执行完后</p>
<p>返回的内部函数 func 仍然可以打印出 getFunc 中的变量</p>
<p>这就是闭包</p>
<p>在<code>[[Scopes]]</code>中则可以看到 Closure (getFunc)中保存了 a 变量</p>
<p><img src="/img/interview/3/1-3.jpg" alt="3"/></p>
<h2 id="this"><a class="autolink-headings" href="#this"><span style="margin-right:4px">#</span></a>this</h2>
<p>先看一个例子</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="js" data-theme="github-light"><code data-language="js" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">var</span><span style="color:#24292E"> obj </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">  myName: </span><span style="color:#032F62">&#x27;对象&#x27;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#6F42C1">  logName</span><span style="color:#24292E">: </span><span style="color:#D73A49">function</span><span style="color:#24292E"> () {</span></span>
<span data-line=""><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(myName)</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getLogFunc</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#D73A49">  let</span><span style="color:#24292E"> myName </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &#x27;函数&#x27;</span></span>
<span data-line=""><span style="color:#D73A49">  return</span><span style="color:#24292E"> obj.logName</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">let</span><span style="color:#24292E"> myName </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &#x27;全局&#x27;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">let</span><span style="color:#24292E"> logFunc </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> getLogFunc</span><span style="color:#24292E">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6F42C1">logFunc</span><span style="color:#24292E">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#24292E">obj.</span><span style="color:#6F42C1">logName</span><span style="color:#24292E">()</span></span></code></pre></figure>
<p>因为 JavaScript 是静态作用域，obj 的父作用域是全局作用域，所以这两个打印出来的值都是&quot;全局&quot;</p>
<p>但是我们使用面向对象时，经常需要 logName 访问 obj 对象的 name 属性，并且可以继承复用</p>
<p>所以就有了 this 机制，</p>
<p>上面创建执行上下文的时候也创建了 this，所以 this 也是分为：</p>
<ul>
<li>全局执行上下文 this</li>
<li>函数执行上下文 this</li>
<li>eval 执行上下文 this (暂不考虑)</li>
</ul>
<p>而他们都是一种指向：</p>
<ul>
<li>直接调用：在浏览器中，指向 window，严格模式指向 undefined。node 中则指向 global，严格模式指向 undefined</li>
</ul>
<p>也有方法使 this 指向不同值：</p>
<ul>
<li>对象方法调用：this 指向调用它的对象</li>
<li>call/apply/bind 方法调用：指向函数设置的值</li>
<li>new 构造函数 调用：指向新创建的对象</li>
</ul>
<blockquote>
<p>setTimeout 方法中的 this ，即使使用对象方法调用也是指向 window/global</p>
</blockquote>
<p>有了 this 后就不一样了，如：</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="js" data-theme="github-light"><code data-language="js" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">var</span><span style="color:#24292E"> obj </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">  myName: </span><span style="color:#032F62">&#x27;对象&#x27;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#6F42C1">  logName</span><span style="color:#24292E">: </span><span style="color:#D73A49">function</span><span style="color:#24292E"> () {</span></span>
<span data-line=""><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">.myName)</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getLogFunc</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#D73A49">  let</span><span style="color:#24292E"> myName </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &#x27;函数&#x27;</span></span>
<span data-line=""><span style="color:#D73A49">  return</span><span style="color:#24292E"> obj.logName</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">let</span><span style="color:#24292E"> myName </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &#x27;全局&#x27;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">let</span><span style="color:#24292E"> logFunc </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> getLogFunc</span><span style="color:#24292E">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6F42C1">logFunc</span><span style="color:#24292E">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#24292E">obj.</span><span style="color:#6F42C1">logName</span><span style="color:#24292E">()</span></span></code></pre></figure>
<p>当 logName 里改为使用 this.myName 后</p>
<p>logFunc 是直接调用，this 指向 window</p>
<p>obj.logName()是对象方法调用,this 指向 obj</p>
<p>所以打印应该是 undefined 和&#x27;对象&#x27;</p>
<p>注意，嵌套函数中的直接调用的函数也是直接调用，并不会继承上一个函数的 this</p>
<p>如：</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="ts" data-theme="github-light"><code data-language="ts" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">var</span><span style="color:#24292E"> obj </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">  myName: </span><span style="color:#032F62">&#x27;对象&#x27;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#6F42C1">  logName</span><span style="color:#24292E">: </span><span style="color:#D73A49">function</span><span style="color:#24292E"> () {</span></span>
<span data-line=""><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">.myName)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">    function</span><span style="color:#6F42C1"> logThis</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#24292E">      console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">)</span></span>
<span data-line=""><span style="color:#24292E">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6F42C1">    logThis</span><span style="color:#24292E">()</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#24292E">obj.</span><span style="color:#6F42C1">logName</span><span style="color:#24292E">()</span></span></code></pre></figure>
<p>而箭头函数没有 this ，访问 this 是继承上一层函数的 this，这就是为什么推出箭头函数功能</p>
<p>如：</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="ts" data-theme="github-light"><code data-language="ts" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">var</span><span style="color:#24292E"> obj </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">  myName: </span><span style="color:#032F62">&#x27;对象&#x27;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#6F42C1">  logName</span><span style="color:#24292E">: </span><span style="color:#D73A49">function</span><span style="color:#24292E"> () {</span></span>
<span data-line=""><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">.myName)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#6F42C1"> logThis</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">      console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">)</span></span>
<span data-line=""><span style="color:#24292E">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6F42C1">    logThis</span><span style="color:#24292E">()</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#24292E">obj.</span><span style="color:#6F42C1">logName</span><span style="color:#24292E">()</span></span></code></pre></figure>
<h2 id="new"><a class="autolink-headings" href="#new"><span style="margin-right:4px">#</span></a>new</h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="js" data-theme="github-light"><code data-language="js" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">function</span><span style="color:#6F42C1"> createObj</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#005CC5">  this</span><span style="color:#24292E">.myName </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &#x27;对象&#x27;</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""><span style="color:#D73A49">var</span><span style="color:#24292E"> myObj </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> createObj</span><span style="color:#24292E">()</span></span></code></pre></figure>
<p>在构造函数中，JavaScript 引擎做了四件事：</p>
<ul>
<li>创建一个空对象 tempObj</li>
<li>(将 tempObj 链接到原型对象)</li>
<li>createObj 中 this 指向 tempObj 对象</li>
<li>执行 createObj 函数为 tempObj 对象赋值</li>
<li>返回 构造函数返回的对象，没有则返回 tempObj 对象</li>
</ul>
<blockquote>
<p>原型对象可以通过 <a href="./2看得见的原型链.html">看得见的原型链</a> 了解</p>
</blockquote>
<p>相当于代码：</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="js" data-theme="github-light"><code data-language="js" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">var</span><span style="color:#24292E"> tempObj </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {}</span></span>
<span data-line=""><span style="color:#24292E">CreateObj.</span><span style="color:#6F42C1">call</span><span style="color:#24292E">(tempObj)</span></span>
<span data-line=""><span style="color:#6F42C1">CreateObj</span><span style="color:#24292E">()</span></span>
<span data-line=""><span style="color:#D73A49">return</span><span style="color:#24292E"> tempObj</span></span></code></pre></figure>
<h2 id="参考资料"><a class="autolink-headings" href="#参考资料"><span style="margin-right:4px">#</span></a>参考资料</h2>
<ul>
<li><a href="https://time.geekbang.org/column/article/131887">李兵</a></li>
<li><a href="https://github.com/mqyqingfeng/Blog/issues/4">冴羽</a></li>
<li><a href="https://note.affi-sapo-sv.com/js-scope.php">Scopes</a></li>
<li><a href="https://mdnice.com/writing/3674c3b95bc242d19ff9d92257c747d4">es 发展后的执行上下文区别</a></li>
<li><a href="https://doc.vercel.app/frontend/web/83302.html#%E9%97%AD%E5%8C%85">winter</a></li>
<li><a href="https://segmentfault.com/a/1190000000533094">思否</a></li>
</ul>
<p align="right">23.12.06</p></div><footer class="mt-[32px]"><div class="border-divider flex justify-between border-t pt-[24px]"><div class="w-[calc(50%-4px)]"><a class="cursor-pointer border-divider hover:border-brand group block h-full w-full rounded-[8px] border px-[16px] py-[8px] transition-colors duration-300"><div class="text-text-2 text-[12px] font-[500] leading-[20px]">上一页</div><div class=" text-text-2 group-hover:text-brand overflow-hidden text-ellipsis whitespace-nowrap text-[14px] font-[500] leading-[20px] transition-colors duration-300">readme</div></a></div><div class="w-[calc(50%-4px)]"><a class="cursor-pointer border-divider hover:border-brand group block h-full w-full rounded-[8px] border px-[16px] py-[8px] transition-colors duration-300"><div class="text-text-2 text-[12px] font-[500] leading-[20px]">下一页</div><div class=" text-text-2 group-hover:text-brand overflow-hidden text-ellipsis whitespace-nowrap text-[14px] font-[500] leading-[20px] transition-colors duration-300">看得见的原型链</div></a></div></div></footer></div></div><aside class="w-toc full:flex sticky top-[calc(theme(spacing.nav)+48px)] hidden h-full flex-col"><div class="border-divider pc:border-l px-[16px] font-[500]"><div class="pc:block bg-brand absolute left-0 hidden h-[18px] w-px transition-[opacity,top] duration-300" style="top:33px;opacity:0"></div><div class="text-[14px] font-[600] leading-[28px]">本页目录</div><div><div><a href="#编译器与解释器" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">编译器与解释器</a></div><div><a href="#执行流程" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">执行流程</a></div><div><a href="#执行上下文" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">执行上下文</a></div><div><a href="#作用域和作用域链" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:1rem">作用域和作用域链</a></div><div><a href="#变量提升" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">变量提升</a></div><div><a href="#闭包" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">闭包</a></div><div><a href="#chorme-控制台的scopes" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:1rem">chorme 控制台的[[Scopes]]</a></div><div><a href="#this" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">this</a></div><div><a href="#new" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">new</a></div><div><a href="#参考资料" class="text-text-2 text-hover block overflow-hidden text-ellipsis whitespace-nowrap text-[13px] leading-[28px]" style="padding-left:0rem">参考资料</a></div></div></div></aside></div></div></div>
  
    <script type="module" src="/client-entry.js"></script>
    </body>
    
</html>
